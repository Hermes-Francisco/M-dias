<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>
    <body>
       <input type="text" id='arq' width='100%' height="100%"/>
       
       <button onclick="envio()">envio</button>
    </body>
    <script charset="utf-8">
                        
    function envio(){
        var arquivo = document.getElementById('arq').value;
        var array;
        var type;
        var name;
        array = arquivo.split('\\');
        if(array.length > 1){
            arquivo = array[0]
            for(i = 1; i < array.length; i++){
                arquivo += '/' + array[i]
            }
        }
        array = arquivo.split('file:///');
        if(array.length > 1){
            
            arquivo = array[1]
        }
        
        array = arquivo.split('/');
        type = array[array.length -1].split('.');
        type = type[type.length-1];
        name = array[array.length -1].split('.' + type)[0]
        
        /*array = name.split("%20")
        if(array.length > 1){
            name = array[0];
            for(i = 1; i < array.length; i++) name += " " + array[i];
        }*/
        
        
        var xhr = new XMLHttpRequest();
        xhr.open("POST", '/', true);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify({
            "nome": name,
            "local": arquivo,
            "tipo": type
        }));
        console.log(xhr.response)
		
    }   
    </script>
</html>